function debounce(t,e=300){let a;return function(...o){clearTimeout(a),a=setTimeout((()=>{t.apply(this,o)}),e)}}const formatadorBRL=new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}),formatBRL=t=>formatadorBRL.format(t||0),getFloat=t=>parseFloat(document.getElementById(t).value)||0,getString=t=>document.getElementById(t).value||"",getChecked=t=>document.getElementById(t).checked;function criarTaxItem(t,e,a,o="desconto",n="da receita"){const u=document.createElement("div");u.className="tax-item","provento"===o&&u.classList.add("provento");const r=document.createElement("span"),l=document.createElement("span");l.className="percentage",l.textContent=`(${(100*a).toFixed(1)}% ${n})`.replace(".",","),r.append(t,l);const c=document.createElement("strong");return c.textContent=`${"provento"===o?"+":"-"}${formatBRL(e)}`,u.append(r,c),u}function criarTaxItemTotal(t,e,a="desconto"){const o=document.createElement("div");o.className="tax-item tax-item-total","provento"===a&&o.classList.add("provento");const n=document.createElement("span");n.textContent=t;const u=document.createElement("strong");return u.textContent=`${"provento"===a?"+":"-"}${formatBRL(e)}`,o.append(n,u),o}const SALARIO_MINIMO=1518,TETO_INSS=8157.41,FAIXAS_INSS=[{teto:1518,aliquota:.075,deduzir:0},{teto:2793.88,aliquota:.09,deduzir:22.77},{teto:4190.83,aliquota:.12,deduzir:106.59},{teto:8157.41,aliquota:.14,deduzir:190.42}],INSS_TETO=8157.41*FAIXAS_INSS[3].aliquota-FAIXAS_INSS[3].deduzir,FAIXAS_IRRF=[{limite:2428.8,aliquota:0,deducao:0},{limite:2826.65,aliquota:.075,deducao:182.16},{limite:3751.05,aliquota:.15,deducao:409.71},{limite:4664.68,aliquota:.225,deducao:682.81},{limite:1/0,aliquota:.275,deducao:912.91}],DEDUCAO_DEPENDENTE_IRRF=189.59,DESCONTO_SIMPLIFICADO_IRRF=607.2,ANEXO_III=[{teto:18e4,aliquota:.06,pd:0},{teto:36e4,aliquota:.112,pd:9360},{teto:72e4,aliquota:.135,pd:17640},{teto:18e5,aliquota:.16,pd:35640},{teto:36e5,aliquota:.21,pd:125640},{teto:48e5,aliquota:.33,pd:648e3}],ANEXO_V=[{teto:18e4,aliquota:.155,pd:0},{teto:36e4,aliquota:.18,pd:4500},{teto:72e4,aliquota:.195,pd:9900},{teto:18e5,aliquota:.205,pd:17100},{teto:36e5,aliquota:.23,pd:62100},{teto:48e5,aliquota:.305,pd:54e4}];function calcularINSS_Progressivo(t){if(t<=0)return 0;let e=Math.min(t,8157.41);for(const t of FAIXAS_INSS)if(e<=t.teto)return Math.max(0,e*t.aliquota-t.deduzir);return INSS_TETO}function calcularIRRF_PelaTabela(t,e=0){if(t<=0)return 0;const a=(e||0)*DEDUCAO_DEPENDENTE_IRRF,o=Math.max(0,t-a);for(const t of FAIXAS_IRRF)if(o<=t.limite)return Math.max(0,o*t.aliquota-t.deducao);const n=FAIXAS_IRRF[FAIXAS_IRRF.length-1];return Math.max(0,o*n.aliquota-n.deducao)}function calcularIRRF_Preciso(t,e,a,o){if(t<=0)return 0;const n=calcularIRRF_PelaTabela(t-e-a*DEDUCAO_DEPENDENTE_IRRF-(o||0),0),u=calcularIRRF_PelaTabela(t-607.2,0);return Math.max(0,Math.min(n,u))}function calcularAliquotaEfetiva(t,e){if(t<=0)return 0;let a=e[e.length-1];for(const o of e)if(t<=o.teto){a=o;break}const{aliquota:o,pd:n}=a,u=(t*o-n)/t;return u>0?u:0}